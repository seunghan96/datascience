# [ 2. Value function, Bellman Equation, MDP ]

## 1. Value function
어떤 행동이 좋은 행동인가?이를 판단하기 위한 지표!
- 보상(reward) : Agent의 행동에 따라 받게 되는 것
- 할인율(discount factor, 감마) : 미래의 받게되는 보상을 현재로 당겼을 때 할인하는 비율!
- return(G, total discount reward) : 미래에 받게되는 모든 reward까지 현재가치로 표현한 것. 이 G를 식으로 표현
하면 다음과 같다. </br> </br>
<a href="https://www.codecogs.com/eqnedit.php?latex=G_t&space;=&space;R_{t&plus;1}&space;&plus;&space;\gamma&space;R_{t&plus;2}&space;&plus;&space;\gamma^2&space;R_{t&plus;3}&space;&plus;&space;...&space;=&space;\sum_{k=0}^{\infty&space;}\gamma^k&space;R_{t&plus;k&plus;1}" target="_blank"><img src="https://latex.codecogs.com/gif.latex?G_t&space;=&space;R_{t&plus;1}&space;&plus;&space;\gamma&space;R_{t&plus;2}&space;&plus;&space;\gamma^2&space;R_{t&plus;3}&space;&plus;&space;...&space;=&space;\sum_{k=0}^{\infty&space;}\gamma^k&space;R_{t&plus;k&plus;1}" title="G_t = R_{t+1} + \gamma R_{t+2} + \gamma^2 R_{t+3} + ... = \sum_{k=0}^{\infty }\gamma^k R_{t+k+1}" /></a>
</br> </br>
- 가치(Value, Value Function) : 현재 상태(s)에서, (앞으로) 기대되는 모든 return값의 합. 이 V를 식으로 표현하면 다음과 같이 됨을, 앞의 
return값을 통해 알 수 있다.</br> </br>
<a href="https://www.codecogs.com/eqnedit.php?latex=V(s)&space;=&space;E[R(s0)&plus;&space;\gamma&space;R(s1)&space;&plus;&space;\gamma^2&space;R(s2)&space;&plus;&space;....&space;|s0=s]" target="_blank"><img src="https://latex.codecogs.com/gif.latex?V(s)&space;=&space;E[R(s0)&plus;&space;\gamma&space;R(s1)&space;&plus;&space;\gamma^2&space;R(s2)&space;&plus;&space;....&space;|s0=s]" title="V(s) = E[R(s0)+ \gamma R(s1) + \gamma^2 R(s2) + .... |s0=s]" /></a>
</br> </br>

## 2. Bellman Equation
Value function은 크게 두 부분으로 나뉠 수 있다.</br>
1) 지금(현재 t시점) 즉시 받는 보상값 (immediate reward, <a href="https://www.codecogs.com/eqnedit.php?latex=R_{t&plus;1}" target="_blank"><img src="https://latex.codecogs.com/gif.latex?R_{t&plus;1}" title="R_{t+1}" /></a>)
2) 미래 (t+1 시점~)에 받게되는 보상값들 (discounted value of successor state, <a href="https://www.codecogs.com/eqnedit.php?latex=\gamma&space;v(S_{t&plus;1})" target="_blank"><img src="https://latex.codecogs.com/gif.latex?\gamma&space;v(S_{t&plus;1})" title="\gamma v(S_{t+1})" /></a>)

<img_src 
( 구체적인 유도과정에 대한 설명은 생략하고 위 수식을 참고 )
( 출처 : https://www.coursehero.com/qa/attachment/3995328/ )


